<!DOCTYPE html>

<html>
    <head>
        <link rel="stylesheet" href="../mystyle.css">
    </head>
    <body>
        <div id="lab_page">
            <center>
                <h1>
                    Лабораторна робота 8.
                    <br>Символьні обчислення мовами функціонального програмування. Операції з многочленами.
                    <br>Варіант 20
                </h1>
            </center>
    
            <h2>Автор</h2>
            <table>
                <tr><td>ПІБ:</td><td>Семечненко Тарас Олександрович</td></tr>
                <tr><td>Курс:</td><td>4</td></tr>
                <tr><td>Група:</td><td>ІПЗ-42</td></tr>
                <tr><td>Рік навчання:</td><td>2021-2022</td></tr>
            </table>

            <h2>Зміст</h2>
            <h3><a href="#k1">Мета</a></h3>
            <h3><a href="#k2">Умова задачі</a></h3>
            <h3><a href="#k3">Структура програми</a></h3>
            <h3><a href="#k4">Обгрунтування вибору середовища та мови програмування</a></h3>
            <h3><a href="#k5">Код програми</a></h3>
            <h3><a href="#k6">Скрін-шоти</a></h3>
            <h3><a href="#k7">Аналіз достовірності результатів</a></h3>
            <h3><a href="#k8">Висновки</a></h3>

            <h2><a name="k1">Мета</a></h2>
            <p>Опанувати теоретичні основи символьних обчислень мовами функціонального програмування. Розробити програми символьного диференціювання та реалізації арифметики поліномів</p>

            <h2><a name="k2">Умова задачі</a></h2>

            <h3>Задача</h3>
            <img src="pic1.png", height=150>

            <h2><a name="k3">Структура програми</a></h2>
            <h3>Схема задачі</h3>
            <img src="Untitled Diagram.drawio.png", height=250>
            
            <h2><a name="k4">Обгрунтування вибору середовища та мови програмування</h2>
            <p>
                <h3>Середовище програмування: VS Code</h3>
                Середовище обране через:
                <br>1) Це моє основне середовище в якому програмую, 
                і його можна використовувати майже для будь-якої мови програмування.
                <br>2) Має всі необхідні функції для програмування 
                і працює набагато швидше в порівнянні з іншими IDE.

                <h3>Мова функціонального програмування: Haskell</h3>
                Мова обрана через:
                <br>1) Це одна з самих популярних та нових функціональних мов програмування.
                <br>2) Дуже багата документація.
                <br>3) Мова має дуже приємний та простий синтаксис.
            </p> 

            <h2><a name="k5">Код програми:</a></h2>
            <xmp>
import Text.Read
import Text.Regex.Posix

-- Функція, яка перевіряє, чи є рядок числом
is_number :: String -> Bool
is_number str
    | (number == Nothing) = False
    | otherwise = True
    where number = readMaybe str :: Maybe Double

-- Функція яка вирішує прості інтеграли
solve_integral :: String -> String
solve_integral x
    | (x == "0") = "C"
    | (is_number x) = x ++ "*x + C"
    | (x == "sin(x)") = "-cos(x) + C"
    | (x =~ "\\`sin\\([0-9]*x\\)\\'" :: Bool) = "-cos(" ++ number ++ "x) / " ++ number ++ " + C"
    | (x == "cos(x)") = "sin(x) + C"
    | (x =~ "\\`cos\\([0-9]*x\\)\\'" :: Bool) = "sin(" ++ number ++ "x) / " ++ number ++ " + C"
    | (x == "exp(x)") = x ++ " + C"
    | (x =~ "\\`exp\\([0-9]*x\\)\\'" :: Bool) = x ++ " / " ++ number ++ " + C"
    | (x =~ "\\`x\\^[0-9]+\\'" :: Bool) = "( x^(" ++ (show $ (read $ number :: Integer) + 1) ++ ") ) / " ++ (show $ (read $ number :: Integer) + 1) ++ " + C"
    | (x =~ "\\`[0-9]+\\^x\\'" :: Bool) = x ++ " / ln(" ++ number ++ ") + C"
    | (x =~ "\\`[0-9]+/x\\'" :: Bool) = "ln|" ++ number ++ "| + C"
    | otherwise = "∫(" ++ x ++ ")dx"
    where number = x =~ "[0-9]+" :: String

-- Головна функція, з якої починається програма
main = do
    -- задання вхідних параметрів
    let a = "-1"
    let f = "x*exp(x)"

    -- putStrLn "Вхідні параметри:"
    putStrLn $ "a(x) = " ++ a
    putStrLn $ "f(x) = " ++ f

    -- знаходження функції u
    let u = "exp(" ++ (solve_integral a) ++ ")"
    putStrLn "Інтегруючий множник:"
    putStrLn $ "u(x) = " ++ u

    -- виведення загального рішення диференціального рівняння
    putStrLn "Загальне рішення диференціального рівняння:"
    putStrLn $ "y = ("  ++ solve_integral (u ++ "*" ++ f) ++ " + C) / (" ++ u ++ ")"

            </xmp>

            <br><a href="https://github.com/Gavair/Gavair.github.io/blob/main/src/lab8/task1.hs">
                Посилання на код завдання
            </a>

            <h2><a name="k6">Скрін-шоти:</a></h2>
            <h3>Результат виконання програми:</h3>
            <img src="screen1.png", height=125>
            <h4>Інтеграли, які вміє вирішувати програма:</h4>
            <img src="screen2.png", height=40>
            <br><img src="screen3.png", height=40>
            <br><img src="screen4.png", height=40>
            <br><img src="screen5.png", height=40>
            <br><img src="screen6.png", height=40>
            <br><img src="screen7.png", height=40>
            <br><img src="screen8.png", height=40>
            <br><img src="screen9.png", height=40>

            <h2><a name="k7">Аналіз достовірності результатів</a></h2>
            <p>
                Я підібрав параметри, які були в прикладі до аналогічного завдання і порівняв результати виконання моєї програми з розрахунками з веб-ресурсу.
                <br>
                <br><img src="proof1.png", height=250>
                <br>
                <br> Результати моєї програми співпадають з реальними розрахунками, однак, щоб отримати вираз, який повністю співпадає з цим прикладом, необхідно вирішити інтеграли та спростити вираз.
            </p>
            <h2><a name="k8">Висновки</a></h2>
            <p>
                В л.р. було виконано завдання за допомогою мови Haskell.
                <br> В даній лабораторній роботі завдання описане не правильно, оскільки в диференціальному рівнянні не можна знайти корені, його можна тільки вирішити.
                <br> Для виконання цієї роботи я взяв загальну формулу диференціального рівняння першого порядку та підставив всі необхідні значення, завдяки конкатенації рядків типу string.
                <br> При кожні підстановці диф рівняння, воно перевірялось регулярним виразом, і спрощувалося, якщо це було можливо.
                <br> В результаті ми отримуємо вираз, який є рішенням диф рівняння.
            </p>
        </div>
    </body>
</html>